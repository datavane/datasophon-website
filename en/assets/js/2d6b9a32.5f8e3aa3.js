"use strict";(self.webpackChunkathenaserving=self.webpackChunkathenaserving||[]).push([[7550],{3905:(e,n,r)=>{r.d(n,{Zo:()=>d,kt:()=>m});var t=r(7294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=t.createContext({}),s=function(e){var n=t.useContext(u),r=n;return e&&(r="function"==typeof e?e(n):o(o({},n),e)),r},d=function(e){var n=s(e.components);return t.createElement(u.Provider,{value:n},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},f=t.forwardRef((function(e,n){var r=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(r),f=a,m=c["".concat(u,".").concat(f)]||c[f]||p[f]||i;return r?t.createElement(m,o(o({ref:n},d),{},{components:r})):t.createElement(m,o({ref:n},d))}));function m(e,n){var r=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=f;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l[c]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return t.createElement.apply(null,o)}return t.createElement.apply(null,r)}f.displayName="MDXCreateElement"},5637:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var t=r(7462),a=(r(7294),r(3905));const i={sidebar_position:6,id:"commit_code",title:"\u7ec4\u4ef6\u96c6\u6210"},o=void 0,l={unversionedId:"\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/commit_code",id:"\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/commit_code",title:"\u7ec4\u4ef6\u96c6\u6210",description:"1\u3001\u670d\u52a1\u96c6\u6210\u534f\u8bae",source:"@site/docs/\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/add_service.md",sourceDirName:"\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210",slug:"/\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/commit_code",permalink:"/datasophon-website/en/docs/current/\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/commit_code",draft:!1,editUrl:"https://github.com/datasophon/datasophon-website/docs/\u5f00\u53d1\u8005\u6307\u5357/\u7ec4\u4ef6\u96c6\u6210/add_service.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,id:"commit_code",title:"\u7ec4\u4ef6\u96c6\u6210"},sidebar:"docSidebar",previous:{title:"\u63d0\u4ea4\u4ee3\u7801\u987b\u77e5",permalink:"/datasophon-website/en/docs/current/\u5f00\u53d1\u8005\u6307\u5357/\u53c2\u4e0e\u8d21\u732e/commit_code"},next:{title:"FAQ",permalink:"/datasophon-website/en/docs/current/faq"}},u={},s=[{value:"1\u3001\u670d\u52a1\u96c6\u6210\u534f\u8bae",id:"1\u670d\u52a1\u96c6\u6210\u534f\u8bae",level:2},{value:"2\u3001\u96c6\u6210Jmx\u76d1\u63a7",id:"2\u96c6\u6210jmx\u76d1\u63a7",level:2},{value:"3\u3001\u7ed8\u5236Grafana\u56fe\u8868",id:"3\u7ed8\u5236grafana\u56fe\u8868",level:2},{value:"4\u3001\u5f00\u59cb\u6dfb\u52a0\u670d\u52a1",id:"4\u5f00\u59cb\u6dfb\u52a0\u670d\u52a1",level:2},{value:"5\u3001\u6dfb\u52a0\u81ea\u5b9a\u4e49\u544a\u8b66",id:"5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u544a\u8b66",level:2}],d={toc:s},c="wrapper";function p(e){let{components:n,...i}=e;return(0,a.kt)(c,(0,t.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"1\u670d\u52a1\u96c6\u6210\u534f\u8bae"},"1\u3001\u670d\u52a1\u96c6\u6210\u534f\u8bae"),(0,a.kt)("p",null,"DataSophon\u652f\u6301\u4ee5\u914d\u7f6e\u7684\u5f62\u5f0f\u96c6\u6210\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u5f53\u524d\u4ee5\u96c6\u6210Kafka\u7ec4\u4ef6\u4e3a\u4f8b\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u670d\u52a1\u96c6\u6210\u534f\u8bae\u3002"),(0,a.kt)("p",null,"\u9996\u5148\u5728meta/DDP-1.0.0\u76ee\u5f55\u4e0b\u521b\u5efaKAFKA\u76ee\u5f55\u548cservice_ddl.json\u670d\u52a1\u96c6\u6210\u6587\u4ef6\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image-20221220000026523",src:r(7291).Z,width:"927",height:"1136"})),(0,a.kt)("p",null,"\u5176\u6b21\uff0c\u7f16\u5199\u670d\u52a1\u96c6\u6210json\u6587\u4ef6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "name": "KAFKA",                           #\u670d\u52a1\u540d\u79f0\n  "label": "Kafka",\n  "description": "\u9ad8\u541e\u5410\u91cf\u7684\u5206\u5e03\u5f0f\u53d1\u5e03\u8ba2\u9605\u6d88\u606f\u7cfb\u7edf",\n  "version": "2.4.1",\n  "sortNum": 4,\n  "dependencies":["ZOOKEEPER"],              #\u670d\u52a1\u4f9d\u8d56\n  "packageName": "kafka-2.4.1.tar.gz",       #\u670d\u52a1\u5b89\u88c5\u5305\u540d\u79f0\n  "decompressPackageName": "kafka-2.4.1",    #\u670d\u52a1\u5b89\u88c5\u5305\u89e3\u538b\u540e\u540d\u79f0\uff0c\u9ed8\u8ba4\u5b89\u88c5\u5728/opt/datasophon\u76ee\u5f55\u4e0b\n  "roles": [                                 #\u670d\u52a1\u89d2\u8272\u5217\u8868\n    {\n      "name": "KafkaBroker",                 #Kafka\u7684\u670d\u52a1\u89d2\u8272\uff0cKafkaBorker\n      "label": "KafkaBroker",\n      "roleType": "master",                  #Kafka\u7684\u670d\u52a1\u89d2\u8272\u7c7b\u578b\uff0c\u6709master , worker \u548cclient\u4e09\u79cd\u89d2\u8272\u3002\n      "cardinality": "1+",                   #1+\u8868\u793a\u53ef\u90e8\u7f72\u591a\u4e2a\uff0c1\u8868\u793a\u53ea\u80fd\u90e8\u7f72\u4e00\u4e2a\n      "logFile": "logs/server.log",      #KafkaBroker\u89d2\u8272\u65e5\u5fd7\u8def\u5f84\uff0c/opt/datasophon/kafka-2.4.1/logs/server.log\n      "jmxPort": 9991,\n      "startRunner": {\n        "timeout": "60",\n        "program": "bin/kafka-server-start.sh", #KafkaBroker\u89d2\u8272\u542f\u52a8\u811a\u672c\n        "args": [\n          "-daemon",\n          "./config/server.properties"\n        ]\n      },\n      "stopRunner": {\n        "timeout": "600",\n        "program": "bin/kafka-server-stop.sh",\n        "args": [\n        ]\n      },\n      "statusRunner": {\n        "timeout": "60",\n        "program": "bin/kafka-server-status.sh",\n        "args": [\n        ]\n      },\n      "restartRunner": {\n        "timeout": "60",\n        "program": "control.sh",\n        "args": [\n          "restart",\n          "namenode"\n        ]\n      }\n    }\n  ],\n  "configWriter": {        #Kafka\u914d\u7f6e\u6587\u4ef6\u5b9a\u4e49\n    "generators": [\n      {\n        "filename": "server.properties",\n        "configFormat": "properties",\n        "outputDirectory": "config",\n        "includeParams": [\n          "log.dirs",\n          "num.partitions",\n          "offsets.topic.replication.factor",\n          "log.retention.hours",\n          "zookeeper.connect",\n          "default.replication.factor",\n          "auto.create.topics.enable",\n          "unclean.leader.election.enable",\n          "auto.leader.rebalance.enable",\n          "message.max.bytes",\n          "replica.fetch.max.bytes",\n          "num.network.threads",\n          "num.io.threads",\n          "queued.max.requests",\n          "socket.receive.buffer.bytes",\n          "socket.send.buffer.bytes",\n          "socket.request.max.bytes",\n          "custom.server.properties"\n        ]\n      },\n      {\n        "filename": "kafka-server-start.sh",\n        "configFormat": "custom",\n        "outputDirectory": "bin",\n        "templateName": "kafka-server-start.ftl",\n        "includeParams": [\n          "kafkaHeapSize"\n        ]\n      }\n    ]\n  },\n  "parameters": [        #Kafka\u670d\u52a1\u53c2\u6570\u5b9a\u4e49\n    {\n      "name": "log.dirs",\n      "label": "kafka\u6570\u636e\u5b58\u50a8\u76ee\u5f55",\n      "description": "",\n      "required": true,\n      "type": "multiple",\n      "value": ["/data/kafka-logs"],\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": ""\n    },\n    {\n      "name": "kafkaHeapSize",\n      "label": "Kafka\u5806\u5185\u5b58\u5927\u5c0f",\n      "description": "Kafka\u5806\u5185\u5b58\u5927\u5c0f",\n      "configType": "map",\n      "required": true,\n      "minValue": 0,\n      "maxValue": 24,\n      "type": "slider",\n      "value": "",\n      "unit": "GB",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "6"\n    },\n    {\n      "name": "num.partitions",\n      "label": "\u5206\u533a\u6570",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "8"\n    },{\n      "name": "offsets.topic.replication.factor",\n      "label": "\u5185\u7f6etopic\u526f\u672c\u6570",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "2"\n    },{\n      "name": "log.retention.hours",\n      "label": "\u6570\u636e\u4fdd\u7559\u7684\u6700\u957f\u65f6\u95f4",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "168"\n    },\n    {\n      "name": "zookeeper.connect",\n      "label": "zk\u8fde\u63a5\u5730\u5740",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "${zkUrls}",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": ""\n    },{\n      "name": "default.replication.factor",\n      "label": "topic\u526f\u672c\u6570",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "2"\n    },\n    {\n      "name": "auto.create.topics.enable",\n      "label": "\u542f\u7528\u81ea\u52a8\u521b\u5efatopic",\n      "description": "",\n      "required": true,\n      "type": "switch",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": false\n    },\n    {\n      "name": "unclean.leader.election.enable",\n      "label": "\u662f\u5426\u5141\u8bb8Unclean Leader\u9009\u4e3e",\n      "description": "\u662f\u5426\u5141\u8bb8\u843d\u540e\u8f83\u591a\u7684\u526f\u672c\u53c2\u52a0leader\u9009\u4e3e",\n      "required": true,\n      "type": "switch",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": false\n    },\n    {\n      "name": "auto.leader.rebalance.enable",\n      "label": "\u662f\u5426\u5141\u8bb8Leader\u91cd\u5e73\u8861",\n      "description": "\u8bbe\u7f6e\u5b83\u7684\u503c\u4e3atrue\u8868\u793a\u5141\u8bb8Kafka\u5b9a\u671f\u5730\u5bf9\u4e00\u4e9bTopic\u5206\u533a\u8fdb\u884cLeader\u91cd\u9009\u4e3e",\n      "required": true,\n      "type": "switch",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": true\n    },\n    {\n      "name": "message.max.bytes",\n      "label": "Broker\u80fd\u591f\u63a5\u6536\u7684\u6700\u5927\u6d88\u606f\u5927\u5c0f",\n      "description": "",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "1000012"\n    },\n    {\n      "name": "replica.fetch.max.bytes",\n      "label": "Broker\u53ef\u590d\u5236\u7684\u6700\u5927\u6d88\u606f\u5927\u5c0f",\n      "description": "kafka\u63a5\u6536\u5355\u4e2a\u6d88\u606fsize\u7684\u6700\u5927\u9650\u5236,\u9ed8\u8ba4\u4e3a1M\u5de6\u53f3 message.max.bytes\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8ereplica.fetch.max.bytes",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "1048576"\n    },\n    {\n      "name": "num.network.threads",\n      "label": "\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\u7684\u7f51\u7edc\u7ebf\u7a0b\u6570\u76ee",\n      "description": "server\u7528\u6765\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\u7684\u7f51\u7edc\u7ebf\u7a0b\u6570\u76ee\uff1b\u4e00\u822c\u4f60\u4e0d\u9700\u8981\u66f4\u6539\u8fd9\u4e2a\u5c5e\u6027\u3002",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "3"\n    },\n    {\n      "name": "num.io.threads",\n      "label": "\u5904\u7406io\u8bf7\u6c42\u7684\u7ebf\u7a0b\u6570\u76ee",\n      "description": "server\u7528\u6765\u5904\u7406\u8bf7\u6c42\u7684I/O\u7ebf\u7a0b\u7684\u6570\u76ee\uff1b\u8fd9\u4e2a\u7ebf\u7a0b\u6570\u76ee\u81f3\u5c11\u8981\u7b49\u4e8e\u786c\u76d8\u7684\u4e2a\u6570\u3002",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "12"\n    },\n    {\n      "name": "queued.max.requests",\n      "label": "\u7b49\u5f85\u6267\u884c\u7684io\u8bf7\u6c42\u6700\u5927\u6570\u76ee",\n      "description": "\u5728\u7f51\u7edc\u7ebf\u7a0b\u505c\u6b62\u8bfb\u53d6\u65b0\u8bf7\u6c42\u4e4b\u524d\uff0c\u53ef\u4ee5\u6392\u961f\u7b49\u5f85I/O\u7ebf\u7a0b\u5904\u7406\u7684\u6700\u5927\u8bf7\u6c42\u4e2a\u6570\u3002",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "500"\n    },\n    {\n      "name": "socket.receive.buffer.bytes",\n      "label": "socket\u63a5\u6536\u670d\u52a1\u7684\u7f13\u5b58\u533a\u5927\u5c0f",\n      "description": "socket\u63a5\u6536\u670d\u52a1\u7684\u7f13\u5b58\u533a\u5927\u5c0f",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "102400"\n    },\n    {\n      "name": "socket.send.buffer.bytes",\n      "label": "socket\u53d1\u9001\u670d\u52a1\u7684\u7f13\u5b58\u533a\u5927\u5c0f",\n      "description": "socket\u53d1\u9001\u670d\u52a1\u7684\u7f13\u5b58\u533a\u5927\u5c0f",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "102400"\n    },\n    {\n      "name": "socket.request.max.bytes",\n      "label": "socket\u6bcf\u6b21\u8bf7\u6c42\u7684\u6700\u5927\u5b57\u8282\u6570",\n      "description": "socket\u6bcf\u6b21\u8bf7\u6c42\u7684\u6700\u5927\u5b57\u8282\u6570",\n      "required": true,\n      "type": "input",\n      "value": "",\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": "102857600"\n    },\n    {\n      "name": "custom.server.properties",\n      "label": "\u81ea\u5b9a\u4e49\u914d\u7f6eserver.properties",\n      "description": "\u81ea\u5b9a\u4e49\u914d\u7f6e",\n      "configType": "custom",\n      "required": false,\n      "type": "multipleWithKey",\n      "value": [],\n      "configurableInWizard": true,\n      "hidden": false,\n      "defaultValue": ""\n    }\n  ]\n}\n')),(0,a.kt)("p",null,"\u53c2\u8003\u8be5\u534f\u8bae\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u96c6\u6210\u7b2c\u4e09\u65b9\u7ec4\u4ef6\uff0c\u5c06\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u7684\u914d\u7f6e\u548c\u670d\u52a1\u76d1\u63a7\uff0c\u542f\u505c\u7ba1\u7406\u6258\u7ba1\u5230DataSophon\u4e0a\u3002"),(0,a.kt)("h2",{id:"2\u96c6\u6210jmx\u76d1\u63a7"},"2\u3001\u96c6\u6210Jmx\u76d1\u63a7"),(0,a.kt)("h2",{id:"3\u7ed8\u5236grafana\u56fe\u8868"},"3\u3001\u7ed8\u5236Grafana\u56fe\u8868"),(0,a.kt)("h2",{id:"4\u5f00\u59cb\u6dfb\u52a0\u670d\u52a1"},"4\u3001\u5f00\u59cb\u6dfb\u52a0\u670d\u52a1"),(0,a.kt)("h2",{id:"5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u544a\u8b66"},"5\u3001\u6dfb\u52a0\u81ea\u5b9a\u4e49\u544a\u8b66"))}p.isMDXComponent=!0},7291:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/image-20221220000026523-ff7424d373334ab0e3246aed29d514b8.png"}}]);